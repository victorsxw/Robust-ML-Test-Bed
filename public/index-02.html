<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Attack Analysis System</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            background-color: #f5f7fa;
            color: #2d3748;
            line-height: 1.6;
            padding: 2rem;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            gap: 2rem;
        }

        .panel {
            flex: 1;
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        h1 {
            font-size: 1.5rem;
            color: #1a202c;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #e2e8f0;
        }

        .form-group {
            margin-bottom: 1.2rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #4a5568;
        }

        select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            background-color: white;
            font-size: 0.95rem;
            color: #2d3748;
            transition: all 0.2s;
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%234a5568' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 0.75rem center;
            background-size: 1rem;
        }

        select:hover {
            border-color: #cbd5e0;
        }

        select:focus {
            outline: none;
            border-color: #4299e1;
            box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.2);
        }

        button {
            width: 100%;
            padding: 0.75rem;
            background-color: #4299e1;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
            margin: 1rem 0;
        }

        button:hover {
            background-color: #3182ce;
        }

        button:active {
            background-color: #2c5282;
        }

        .result-container {
            margin-top: 1.5rem;
            padding: 1rem;
            border-radius: 8px;
            background-color: #f8fafc;
            border: 1px solid #e2e8f0;
        }

        .loading {
            text-align: center;
            color: #4a5568;
            padding: 1rem;
        }

        .error {
            color: #e53e3e;
            background-color: #fff5f5;
            border-color: #feb2b2;
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
        }

        .success {
            background-color: #f0fff4;
            border-color: #9ae6b4;
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
        }

        @media (max-width: 1024px) {
            .container {
                flex-direction: column;
            }
            
            .panel {
                margin-bottom: 1rem;
            }
        }

        optgroup {
            font-weight: 600;
            color: #2d3748;
        }

        select option {
            padding: 0.5rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 左侧面板 -->
        <div class="panel">
            <h1>Conceptual Attacks Analysis</h1>
            <form id="conceptualForm" onsubmit="return false;"> 
                <div class="form-container">
                <!-- Selection for Data Modality -->
                <div class="form-group">
                    <label>Data Modality:</label>
                    <select id="Data_Modality">
                        <option value="">Select Data Modality</option>
                        <option value="Text">Text</option>
                        <option value="Numeric">Numeric</option>
                        <option value="Image">Image</option>
                        <option value="Audio">Audio</option>
                        <option value="Video">Video</option>
                        <option value="Sensor Data">Sensor Data</option>
                        <option value="Geospatial Data">Geospatial Data</option>
                        <option value="Time-Series Data">Time-Series Data</option>
                        <option value="Tabular">Tabular</option>
                        <option value="Mutimodal">Mutimodal</option>
                        <option value="Text and Image">Text and Image</option>
                        <option value="Tabular and Image">Tabular and Image</option>
                        <option value="Blanks">Blanks</option>
                    </select>
                </div>

                <!-- Selection for Task Type -->
                <div class="form-group">
                    <label>Tasks:</label>
                    <select id="Tasks">
                        <option value="">Select Tasks</option>
                        <option value="Regression">Regression</option>
                        <option value="Classification">Classification</option>
                        <option value="Clustering">Clustering</option>
                        <option value="Decision Making">Decision Making</option>
                        <option value="Dimensionality Reduction">Dimensionality Reduction</option>
                        <option value="Multi-Label Classification">Multi-Label Classification</option>
                        <option value="Generative task">Generative task</option>
                    </select>
                </div>

                <!-- Selection for Learning Architecture -->
                <div class="form-group">
                    <label>Learning Architecture:</label>
                    <select id="Learning_Architecture">
                        <option value="">Select Learning Architecture</option>
                        <option value="Centralized Learning">Centralized Learning</option>
                        <option value="Distributed Learning">Distributed Learning</option>
                        <option value="Split Learning">Split Learning</option>
                        <option value="Centralized and Distributed Learning">Centralized and Distributed Learning</option>
                        <option value="Blanks">Blanks</option>
                    </select>
                </div>

                <!-- Selection for Model Architecture -->
                <div class="form-group">
                    <label>Model Architecture:</label>
                    <select id="Model_Architecture">
                        <option value="">Select Model Architecture</option>
                        <option value="Recurrent Neural Networks">Recurrent Neural Networks</option>
                        <option value="Convolutional Neural Networks">Convolutional Neural Networks</option>
                        <option value="Feedforward Neural Networks">Feedforward Neural Networks</option>
                        <option value="Generative Adversarial Networks">Generative Adversarial Networks</option>
                        <option value="Reinforcement Learning">Reinforcement Learning</option>
                        <option value="Transformer Networks">Transformer Networks</option>
                        <option value="Neural Network">Neural Network</option>
                        <option value="Blanks">Blanks</option>
                    </select>
                </div>

                <!-- Selection for Attacker's Knowledge -->
                <div class="form-group">
                    <label>Knowledge:</label>
                    <select id="Knowledge">
                        <option value="">Select Knowledge</option>
                        <option value="Full Knowledge">Full Knowledge</option>
                        <option value="Limited Knowledge">Limited Knowledge</option>
                        <option value="Zero-Knowledge">Zero-Knowledge</option>
                        <option value="Limited and Zero-knowledge both considered">Limited and Zero-knowledge both considered</option>
                        <option value="Full/Limited Knowledge">Full/Limited Knowledge</option>
                        <option value="Blanks">Blanks</option>
                    </select>
                </div>

                <!-- Selection for Application Domains -->
                <div class="form-group">
                    <label>Application Domains:</label>
                    <select id="Application_Domains">
                        <option value="">Select Application Domain</option>
                        <option value="Image/Object Recognition">Image/Object Recognition</option>
                        <option value="Natural Language Processing">Natural Language Processing</option>
                        <option value="Recommendation Systems">Recommendation Systems</option>
                        <option value="Fraud Detection">Fraud Detection</option>
                        <option value="Medical Diagnosis">Medical Diagnosis</option>
                        <option value="Autonomous Driving">Autonomous Driving</option>
                        <option value="Financial Market Prediction">Financial Market Prediction</option>
                        <option value="Speech Recognition">Speech Recognition</option>
                        <option value="Customer Segmentation">Customer Segmentation</option>
                        <option value="Gaming">Gaming</option>
                        <option value="Anomaly Detection">Anomaly Detection</option>
                        <option value="Image search engine">Image search engine</option>
                        <option value="Blanks">Blanks</option>
                    </select>
                </div>

            </form>
            <button onclick="querySolution()">Analyze Attacks</button>
            <div id="result" class="result-container"></div>
        </div>

        <!-- 右半边面板 - 只有一个选择项 -->
        <div class="panel">
            <h1>Attack Implementation</h1>
            <form id="implementationForm" onsubmit="return false;">
                <div class="form-group">
                    <label for="Attack_ID">Attack Identifier:</label>
                    <select id="Attack_ID">
                        <option value="">Select Attack ID</option>
 <!-- Out-of-Distribution Attacks -->
 <optgroup label="Out-of-Distribution Attacks">
    <option value="A_OOD_001">A_OOD_001</option>
</optgroup>

<!-- Property Inference Attacks -->
<optgroup label="Property Inference Attacks">
    <option value="A_Property_inference_Attack_001">A_Property_inference_Attack_001</option>
</optgroup>

<!-- Jailbreak Attacks -->
<optgroup label="Jailbreak Attacks">
    <option value="A_Jailbreak_001">A_Jailbreak_001</option>
    <option value="A_Jailbreak_002">A_Jailbreak_002</option>
</optgroup>

<!-- Indirect Prompt Injection -->
<optgroup label="Indirect Prompt Injection">
    <option value="A_Indirect_Prompt_injection_1">A_Indirect_Prompt_injection_1</option>
    <option value="A_Indirect_Prompt_injection_2">A_Indirect_Prompt_injection_2</option>
</optgroup>

<!-- GAI Poisoning -->
<optgroup label="GAI Poisoning">
    <option value="A_GAI_Poisoning_001">A_GAI_Poisoning_001</option>
    <option value="A_GAI_Poisoning_002">A_GAI_Poisoning_002</option>
</optgroup>

<!-- Goal Hijacking -->
<optgroup label="Goal Hijacking">
    <option value="A_Goal_Hijacking_001">A_Goal_Hijacking_001</option>
    <option value="A_Goal_Hijacking_002">A_Goal_Hijacking_002</option>
</optgroup>

<!-- Reconstruction Attacks -->
<optgroup label="Reconstruction Attacks">
    <option value="A_Reconstruction_001">A_Reconstruction_001</option>
    <option value="A_Reconstruction_002">A_Reconstruction_002</option>
    <option value="A_Reconstruction_003">A_Reconstruction_003</option>
</optgroup>

<!-- Membership Inference -->
<optgroup label="Membership Inference">
    <option value="A_Membership_inference_001">A_Membership_inference_001</option>
    <option value="A_Membership_inference_002">A_Membership_inference_002</option>
    <option value="A_Membership_inference_003">A_Membership_inference_003</option>
    <option value="A_Membership_inference_004">A_Membership_inference_004</option>
    <option value="A_Membership_inference_005">A_Membership_inference_005</option>
    <option value="A_Membership_inference_006">A_Membership_inference_006</option>
</optgroup>

<!-- Backdoor Attacks -->
<optgroup label="Backdoor Attacks">
    <option value="A_Backdoor_001">A_Backdoor_001</option>
    <option value="A_Backdoor_002">A_Backdoor_002</option>
    <option value="A_Backdoor_003">A_Backdoor_003</option>
    <option value="A_Backdoor_004">A_Backdoor_004</option>
    <option value="A_Backdoor_005">A_Backdoor_005</option>
    <option value="A_Backdoor_006">A_Backdoor_006</option>
    <option value="A_Backdoor_007">A_Backdoor_007</option>
    <option value="A_Backdoor_008">A_Backdoor_008</option>
</optgroup>

<!-- Poisoning Attacks -->
<optgroup label="Poisoning Attacks">
    <option value="A_Poisoning_001">A_Poisoning_001</option>
    <option value="A_Poisoning_002">A_Poisoning_002</option>
    <option value="A_Poisoning_003">A_Poisoning_003</option>
    <option value="A_Poisoning_004">A_Poisoning_004</option>
    <option value="A_Poisoning_005">A_Poisoning_005</option>
    <option value="A_Poisoning_006">A_Poisoning_006</option>
    <option value="A_Poisoning_007">A_Poisoning_007</option>
    <option value="A_Poisoning_008">A_Poisoning_008</option>
    <option value="A_Poisoning_009">A_Poisoning_009</option>
    <option value="A_Poisoning_010">A_Poisoning_010</option>
    <option value="A_Poisoning_011">A_Poisoning_011</option>
    <option value="A_Poisoning_012">A_Poisoning_012</option>
</optgroup>

<!-- Evasion Attacks -->
<optgroup label="Evasion Attacks">
    <option value="A_Evasion_001">A_Evasion_001</option>
    <option value="A_Evasion_002">A_Evasion_002</option>
    <option value="A_Evasion_003">A_Evasion_003</option>
    <option value="A_Evasion_004">A_Evasion_004</option>
    <option value="A_Evasion_005">A_Evasion_005</option>
    <option value="A_Evasion_006">A_Evasion_006</option>
    <option value="A_Evasion_007">A_Evasion_007</option>
    <option value="A_Evasion_008">A_Evasion_008</option>
    <option value="A_Evasion_009">A_Evasion_009</option>
    <option value="A_Evasion_010">A_Evasion_010</option>
    <option value="A_Evasion_011">A_Evasion_011</option>
    <option value="A_Evasion_012">A_Evasion_012</option>
    <option value="A_Evasion_013">A_Evasion_013</option>
    <option value="A_Evasion_014">A_Evasion_014</option>
    <option value="A_Evasion_015">A_Evasion_015</option>
    <option value="A_Evasion_016">A_Evasion_016</option>
    <option value="A_Evasion_017">A_Evasion_017</option>
    <option value="A_Evasion_018">A_Evasion_018</option>
</optgroup>
</select>
</div>
</form>
<button onclick="querySolutionRight()">Get Implementation Details</button>
<div id="result-right" class="result-container"></div>
</div>

    <script>
        // 优化后的 JavaScript 代码
        const displayMessage = (elementId, message, type = 'normal') => {
            const element = document.getElementById(elementId);
            element.className = `result-container ${type}`;
            element.innerHTML = message;
        };

        const handleFetchError = (error, elementId) => {
            console.error('Error:', error);
            displayMessage(elementId, `Error: ${error.message}`, 'error');
        };

        // 原有的onload函数
        window.onload = function() {
            displayMessage('result', 'Ready for analysis. Please make your selections.');
            displayMessage('result-right', 'Select an Attack ID to view implementation details.');
        };

        async function querySolution() {
            try {
                const formData = {
                    Data_Modality: document.getElementById('Data_Modality').value,
                    Tasks: document.getElementById('Tasks').value,
                    Learning_Architecture: document.getElementById('Learning_Architecture').value,
                    Model_Architecture: document.getElementById('Model_Architecture').value,
                    Knowledge: document.getElementById('Knowledge').value,
                    Application_Domains: document.getElementById('Application_Domains').value,
                };

                if (Object.values(formData).some(value => !value)) {
                    throw new Error('Please complete all fields before analysis.');
                }

                displayMessage('result', 'Analyzing...', 'loading');

                const response = await fetch('/api/query-solution', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(formData)
                });

                const data = await response.json();
                displayMessage('result', `Analysis Results:\n${JSON.stringify(data, null, 2)}`, 'success');
            } catch (error) {
                handleFetchError(error, 'result');
            }
        }

        async function querySolutionRight() {
            try {
                const Attack_ID = document.getElementById('Attack_ID').value;
                
                if (!Attack_ID) {
                    throw new Error('Please select an Attack ID.');
                }

                displayMessage('result-right', 'Fetching implementation details...', 'loading');

                const response = await fetch('/api/query-solution-right', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ Attack_ID })
                });

                const data = await response.json();
                displayMessage('result-right', `Implementation Details:\n${JSON.stringify(data, null, 2)}`, 'success');
            } catch (error) {
                handleFetchError(error, 'result-right');
            }
        }
    </script>
</body>
</html>